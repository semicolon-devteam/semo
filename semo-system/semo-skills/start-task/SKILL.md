---
name: start-task
description: |
  ì‘ì—… ì‹œì‘ (Supabase DB ê¸°ë°˜). Use when (1) "ëœë“œ #123 ì‘ì—… ì§„í–‰", (2) "#45 ì‹œì‘í•˜ì",
  (3) "ì´ìŠˆ ì‘ì—… ì‹œì‘í•´ì¤˜". ì´ìŠˆ ìƒíƒœ ë³€ê²½ + ë¸Œëœì¹˜ ìƒì„± + Draft PR.
tools: [Supabase, Bash, Read]
model: inherit
---

> **ì‹œìŠ¤í…œ ë©”ì‹œì§€**: `[SEMO] Skill: start-task í˜¸ì¶œ`

# start-task Skill

> ì‘ì—… ì‹œì‘ ìë™í™” (Supabase DB ê¸°ë°˜)

## ğŸ”´ ë°ì´í„° ì†ŒìŠ¤ ë³€ê²½ (v2.0.0)

| ë²„ì „ | ë°ì´í„° ì†ŒìŠ¤ | ë°©ì‹ |
|------|------------|------|
| v1.x | GitHub Projects | GraphQL mutation |
| **v2.0** | **Supabase** | `issues.status` UPDATE |

---

## Purpose

ì´ìŠˆ ì‘ì—…ì„ ì‹œì‘í•˜ê¸° ìœ„í•œ ì „ì²´ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•©ë‹ˆë‹¤:

1. ì´ìŠˆ ì •ë³´ ì¡°íšŒ (Supabase)
2. ìƒíƒœ â†’ "in_progress" ë³€ê²½
3. Feature ë¸Œëœì¹˜ ìƒì„±
4. Draft PR ìƒì„±
5. SDD í”„ë¡œì„¸ìŠ¤ ì•ˆë‚´

## Input Parsing

```text
"ëœë“œ #123 ì‘ì—… ì§„í–‰í•˜ì"
â†’ repo: cm-land, issue: 123

"ì˜¤í”¼ìŠ¤ #45 ì‹œì‘"
â†’ repo: cm-office, issue: 45

"#123 ì‘ì—… ì‹œì‘"
â†’ repo: (í˜„ì¬ ë””ë ‰í† ë¦¬ì—ì„œ ì¶”ë¡ ), issue: 123
```

### ë ˆí¬ ë³„ì¹­

| ë³„ì¹­ | ì‹¤ì œ ë ˆí¬ |
|------|----------|
| ëœë“œ | cm-land |
| ì˜¤í”¼ìŠ¤ | cm-office |
| ì½”ì–´ | core-backend |
| ìŠ¤ëª° | cm-small |

## Workflow

### Step 1: ì´ìŠˆ ì •ë³´ ì¡°íšŒ (Supabase)

```sql
-- ì´ìŠˆ ì •ë³´ ì¡°íšŒ
SELECT
  i.number,
  i.title,
  i.body,
  i.type,
  i.status,
  i.labels,
  ap.name AS assignee_name
FROM issues i
LEFT JOIN agent_personas ap ON i.assignee_id = ap.id
WHERE i.number = 123
  AND i.office_id = '{office_uuid}';
```

```typescript
// Supabase í´ë¼ì´ì–¸íŠ¸
const { data: issue, error } = await supabase
  .from('issues')
  .select(`
    number, title, body, type, status, labels,
    assignee:agent_personas(name)
  `)
  .eq('number', 123)
  .eq('office_id', officeId)
  .single();
```

### Step 2: ìƒíƒœ ë³€ê²½ (Supabase)

```sql
-- ìƒíƒœë¥¼ in_progressë¡œ ë³€ê²½
SELECT * FROM update_issue_status(
  123,                    -- issue_number
  '{office_uuid}'::uuid,  -- office_id
  'in_progress',          -- new_status
  '{actor_uuid}'::uuid    -- changed_by
);
```

```typescript
// Supabase í´ë¼ì´ì–¸íŠ¸
const { data, error } = await supabase
  .from('issues')
  .update({ status: 'in_progress' })
  .eq('number', 123)
  .eq('office_id', officeId)
  .select()
  .single();
```

### Step 3: Feature ë¸Œëœì¹˜ ìƒì„±

```bash
# ì´ìŠˆ ì œëª©ì—ì„œ slug ìƒì„±
SLUG=$(echo "ë¡œê·¸ì¸ í˜ì´ì§€ êµ¬í˜„" | tr ' ' '-' | tr '[:upper:]' '[:lower:]')

# ë¸Œëœì¹˜ ìƒì„±
git checkout -b feature/123-${SLUG}

# ì›ê²©ì— í‘¸ì‹œ
git push -u origin feature/123-${SLUG}
```

### Step 4: Draft PR ìƒì„±

```bash
gh pr create \
  --repo semicolon-devteam/cm-land \
  --title "[Draft] #123 ë¡œê·¸ì¸ í˜ì´ì§€ êµ¬í˜„" \
  --body "$(cat <<'EOF'
## ê´€ë ¨ ì´ìŠˆ
closes #123

## ë³€ê²½ ì‚¬í•­
- [ ] ì‘ì—… ì§„í–‰ ì¤‘

## ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] Spec ì‘ì„± ì™„ë£Œ
- [ ] êµ¬í˜„ ì™„ë£Œ
- [ ] í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ë¦¬ë·° ìš”ì²­

---
Generated by SEMO
EOF
)" \
  --draft
```

### Step 5: ë‹¤ìŒ ë‹¨ê³„ ì„ íƒì§€ ì œì‹œ (NON-NEGOTIABLE)

> **CRITICAL**: ì‘ì—… í™˜ê²½ ì„¸íŒ… ì™„ë£Œ í›„ **ë°˜ë“œì‹œ** ë‹¤ìŒ ë‹¨ê³„ ì„ íƒì§€ë¥¼ ì œì‹œí•©ë‹ˆë‹¤.

```markdown
## ğŸš€ ì‘ì—… í™˜ê²½ ì¤€ë¹„ ì™„ë£Œ!

ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”:

| ì˜µì…˜ | ì í•©í•œ ê²½ìš° | í‚¤ì›Œë“œ |
|------|------------|--------|
| **A. SDD ì „ì²´** (ê¶Œì¥) | ìƒˆ ê¸°ëŠ¥, ë³µì¡í•œ ë¡œì§, AC í•„ìš” | "ìŠ¤í™ë¶€í„° ì‹œì‘" |
| **B. ë°”ë¡œ êµ¬í˜„** | ëª…í™•í•œ ìš”êµ¬ì‚¬í•­, ê°„ë‹¨í•œ ê¸°ëŠ¥ | "êµ¬í˜„ ì‹œì‘" |
| **C. Fast-track** | ì˜¤íƒ€/ìŠ¤íƒ€ì¼ ìˆ˜ì •, 3íŒŒì¼ ì´í•˜ | "íŒ¨ìŠ¤íŠ¸íŠ¸ë™" |

**ì„ íƒí•˜ì„¸ìš”**: A, B, ë˜ëŠ” C
```

### ì„ íƒì§€ë³„ ë¼ìš°íŒ…

| ì„ íƒ | ë¼ìš°íŒ… ëŒ€ìƒ | ë™ì‘ |
|------|------------|------|
| A | `skill:spec` | SDD Phase 1-3 ì‹œì‘ |
| B | `implementation-master` | ADD Phase 4 ë°”ë¡œ ì‹œì‘ |
| C | `skill:fast-track` | ê°„ì†Œí™”ëœ ìˆ˜ì • í”„ë¡œì„¸ìŠ¤ |

## Output Format

```markdown
[SEMO] Skill: start-task í˜¸ì¶œ

## ì‘ì—… ì‹œì‘: #123

### ì´ìŠˆ ì •ë³´

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì œëª©** | ë¡œê·¸ì¸ í˜ì´ì§€ êµ¬í˜„ |
| **ìœ í˜•** | feature |
| **ë‹´ë‹¹ì** | @reus |

### ì™„ë£Œëœ ì‘ì—…

âœ… ìƒíƒœ ë³€ê²½: todo â†’ in_progress
âœ… ë¸Œëœì¹˜ ìƒì„±: `feature/123-ë¡œê·¸ì¸-í˜ì´ì§€-êµ¬í˜„`
âœ… Draft PR ìƒì„±: #150

### ğŸš€ ë‹¤ìŒ ë‹¨ê³„ ì„ íƒ

| ì˜µì…˜ | ì í•©í•œ ê²½ìš° | í‚¤ì›Œë“œ |
|------|------------|--------|
| **A. SDD ì „ì²´** (ê¶Œì¥) | ìƒˆ ê¸°ëŠ¥, ë³µì¡í•œ ë¡œì§ | "ìŠ¤í™ë¶€í„° ì‹œì‘" |
| **B. ë°”ë¡œ êµ¬í˜„** | ëª…í™•í•œ ìš”êµ¬ì‚¬í•­ | "êµ¬í˜„ ì‹œì‘" |
| **C. Fast-track** | ê²½ë¯¸í•œ ìˆ˜ì • | "íŒ¨ìŠ¤íŠ¸íŠ¸ë™" |

ğŸ’¡ **ë¼ë²¨ ê¸°ë°˜ ê¶Œì¥**: `feature` â†’ **A. SDD ì „ì²´** ê¶Œì¥

**ì„ íƒí•˜ì„¸ìš”**: A, B, ë˜ëŠ” C

[SEMO] Skill: start-task ì™„ë£Œ
```

## Error Handling

### ì´ìŠˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ëŠ” ê²½ìš°

```markdown
âŒ #123 ì´ìŠˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

í™•ì¸ì‚¬í•­:
- ì´ìŠˆ ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥¸ê°€ìš”?
- Office IDê°€ ì˜¬ë°”ë¥¸ê°€ìš”?
- ì´ìŠˆê°€ Open ìƒíƒœì¸ê°€ìš”?
```

### ì´ë¯¸ ì‘ì—…ì¤‘ì¸ ê²½ìš°

```markdown
âš ï¸ #123ì€ ì´ë¯¸ "in_progress" ìƒíƒœì…ë‹ˆë‹¤.

í˜„ì¬ ìƒíƒœ:
- ë¸Œëœì¹˜: feature/123-ë¡œê·¸ì¸-í˜ì´ì§€-êµ¬í˜„ (ì¡´ì¬í•¨)
- PR: #150 (Draft)

ê³„ì† ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
```

## GitHub Projects Fallback

Supabase ì—°ê²°ì´ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°:

```bash
# Fallback: GitHub Projects GraphQL
gh api graphql -f query='
  mutation {
    updateProjectV2ItemFieldValue(input: {...}) {
      projectV2Item { id }
    }
  }
'
```

## References

- [issues í…Œì´ë¸” ë§ˆì´ê·¸ë ˆì´ì…˜](../../../semo-repository/supabase/migrations/20260113003_issues_discussions.sql)
- [git-workflow Skill](../git-workflow/SKILL.md)
- [project-status Skill](../project-status/SKILL.md)
