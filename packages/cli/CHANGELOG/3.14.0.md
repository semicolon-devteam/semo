# v3.14.0 - DB 기반 설치 (팀 코어 PostgreSQL)

## 주요 변경사항

### Breaking Change: Supabase → PostgreSQL 전환

**기존 (v3.13.x 이하):**
- Supabase 클라이언트 사용
- `git clone` 으로 semo-system 다운로드
- 심볼릭 링크로 .claude/ 구성

**변경 (v3.14.0):**
- 팀 코어 PostgreSQL 사용 (3.38.162.21)
- DB에서 스킬/커맨드/에이전트 콘텐츠 직접 조회
- .claude/ 폴더에 파일 직접 생성 (semo-system 불필요)

### 새로운 구조

**v3.14.0 설치 결과:**
```
project/
├── .claude/
│   ├── agents/
│   │   └── orchestrator/
│   │       └── orchestrator.md  (DB content)
│   ├── skills/
│   │   ├── workflow-start/
│   │   │   └── SKILL.md  (DB content)
│   │   └── ... (19개)
│   ├── commands/
│   │   ├── SEMO/
│   │   │   ├── help.md
│   │   │   └── dry-run.md
│   │   └── SEMO-workflow/
│   │       └── greenfield.md
│   └── CLAUDE.md
└── (NO semo-system/ folder!)
```

### DB 스키마 (semo 스키마)

```sql
semo.skills      -- 스킬 정의 및 SKILL.md 내용
semo.commands    -- 커맨드 정의 및 .md 내용
semo.agents      -- 에이전트 정의 및 agent.md 내용
semo.packages    -- 패키지 정의
```

### 폴백 동작

DB 연결 실패 시 하드코딩된 19개 스킬 목록 사용:
- `FALLBACK_SKILLS` in `database.ts`

### 의존성 변경

**제거:**
- `@supabase/supabase-js`

**추가:**
- `pg` (PostgreSQL 클라이언트)
- `@types/pg`

## 설치 방법

```bash
# CLI 업데이트
npm i -g @team-semicolon/semo-cli@latest

# 프로젝트 설치
cd your-project
semo init
```

## 핵심 스킬 목록 (19개)

| Category | 스킬 |
|----------|------|
| Workflow | workflow-start, workflow-progress, workflow-resume |
| Discovery | ideate |
| Planning | create-epic, design-user-flow, generate-mockup |
| Solutioning | scaffold-domain, validate-architecture, generate-spec, design-tests |
| Implementation | create-sprint, start-task, review-task, write-code, run-code-review, close-sprint |
| Supporting | git-workflow, notify-slack |

## Extension 호환성

Extension 패키지는 아직 git 기반으로 설치됩니다.
향후 버전에서 Extensions도 DB 기반으로 전환 예정입니다.

## 관련 파일

- `src/database.ts`: PostgreSQL 연결 및 조회 함수
- `src/index.ts`: DB 기반 설치 로직
- `sql/create_semo_schema.sql`: DB 스키마 생성 스크립트
- ~~`src/supabase.ts`~~: 삭제됨
